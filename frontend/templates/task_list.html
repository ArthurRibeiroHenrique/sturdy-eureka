{% extends "base.html" %}

{%block title%}Lista de Tarefas{%endblock%}

{%block content%}

<div class="flex justify-between items-center mb-6">
    <h2 class="text-3xl font-bold text-gray-800">Minhas Tarefas</h2>
    <a href="{% url 'create-task' %}" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
    Nova Tarefa
    </a>
</div>

{%if tasks%}
    <ul class="space-y-4">
        {%for task in tasks%}
        <li class="p-4 border rounded-lg flex justify-between {% if task.completed%} bg-green-50 {%else%}bg-gray-50{%endif%}">
            <div>
                <h3 class="text-xl font-semibold {{task.completed|yesno:'line-through, text-gray-400|text-gray-800'}}">
                    {{task.title}}
                </h3>
                <p class="text-gray-600">{{task.description}}</p>
            </div>

            <div class="flex items-center gap-2">
                <a href="{% url 'toggle-task' task.id %}" 
                    class="px-3 py-1 rounded text-sm
                        {% if task.completed%}
                            bg-yellow-500 text-white hover:bg-yellow-600
                        {%else%}
                            bg-green-600 text-white hover:bg-green-700
                        {%endif%}
                        transition">
                    {%if task.completed%}
                        Marcar completa
                    {%else%}
                        Concluir
                    {%endif%}
                </a>
            </div>
        </li>
        {% endfor %}
    </ul>
{% else %}
    <p class="text-gray-600">Nenhuma tarefa cadastrada ainda.</p>
{%endif%}

{%endblock%}